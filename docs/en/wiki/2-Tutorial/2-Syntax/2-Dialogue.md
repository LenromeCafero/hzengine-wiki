# 对话

显然，视觉小说不能没有对话。

在 HZengine 中，想要显示角色对话，你可以使用 say 语句。

say 语句是单行语句，由一个或两个字符串组成。当只有一个字符串时，代表旁白或内心独白。当有两个字符串时，第一个字符串代表角色名称，第二个字符串代表对话内容。多于两个字符串将会报错。

例如，

```renpy
"在一个风和日丽的下午，刘华强出去买瓜"
"华强" "哥们儿，这瓜多少钱一斤呐？"
```

这两行的显示效果分别如下所示：

<figure><img src="/static/image/43cc5eca9a11424f307fb71f3f9c8901.png" alt=""><figcaption></figcaption></figure>

<figure><img src="/static/image/b5a69511319177ed6f7ae5df95a9a1d6.png" alt=""><figcaption></figcaption></figure>

受手表屏幕大小限制，请避免一次显示过长的对话。角色名区域显示不出多行文字，只有对话文字可以。

## 暂停状态

当 HZengine 遇到一个 say 语句时，会进入暂停状态，脚本会暂停向下执行，直到玩家点击了屏幕或者按下了下一步按键。

比如

```renpy
show eliza smile  #显示微笑表情
"我" "你知道吗，对面村庄的小孩徒手打死了两只老虎"
show eliza surprised  #显示惊讶表情
"Eliza" "这岂是人类能干的事？"
```

首先会显示 eliza 的微笑表情和“我”说的话，此时脚本暂停，只有等待玩家点击屏幕时，eliza 的表情才会变成惊讶。

如果你希望执行一条 say 语句的时候不进入暂停状态，可以在末尾加上`nowait` （未实装）

```renpy
"这句话不会触发暂停状态" nowait
```

如果你想手动触发一个暂停，可以使用 pause 语句

```renpy
pause
```

## 字符串转义

倘若你想让一段文字分行显示，怎么办？此时需要用到转义字符。

在 HZengine Script 字符串中，反斜杠 \ 后的字符将被转义，常用的转义字符有：

* `\n` 表示换行
* `\"` 表示一个英文引号

如果你想让字符串中的反斜杠作为普通文本出现，请使用两个反斜杠 `\\` ，这可以让它转义自己。

## 创建角色：character 语句

显然，在一个视觉小说中，有些人的名字是经常出现的。你可以使用 character 语句声明一个角色，这样就可以用他们的短名简化 say 语句。

character 语句的格式为

```renpy
character <角色短名> "<角色显示名>"
```

例如，

```renpy
character h "刘华强"
```

之后，你就可以用短名 h 来简化调用 say 语句了，

```renpy
h "老板，你这称有问题啊"
```

这与

```renpy
"刘华强" "老板，你这称有问题啊"
```

是等效的。

### 注意事项

需要注意的是，character 作为一个普通语句，只有在它执行后，HZengine 才知道有短名的存在。不能在 character 定义短名之前就使用短名，这样会产生错误。最好是在 start 脚本标签中就定义好常用角色的短名，防止当游戏流程复杂时出现有短名未定义的情况。

另外，character 定义时使用的短名必须 **全局唯一** 。每当 HZengine 执行到一个 character 语句时，它会检查是否已经存在一个其它位置但相同短名的角色声明，如果有，将会抛出错误。

还有，请注意使用的短名应避免和 HZengine 所使用的关键字相同（例如 menu，if，character等），这会造成歧义。
